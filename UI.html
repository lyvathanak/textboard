<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>TextBoard</title>
</head>
<body>
    <!-- Input Form Screen -->
    <div id="form-screen" class="screen">
        <div class="header bg-blue-100 p-4">
            <div class="font-thin">the</div>
            <div class="font-extrabold">TextBoard</div>
        </div>
        <div class="container mx-auto px-4 py-4 bg-gray-100 rounded-lg shadow-md">
            <div class="form-grid p-4 space-y-4">
                <!-- Create Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Text</div>
                    <input type="text" class="input" placeholder="Type here...">
                </div>

                <!-- Font Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Font</div>
                    <select class="input" data-label="Font">
                        <option value="Figma Hand">Figma Hand</option>
                        <option value="Lobster">Lobster Color</option>
                        <option value="Arial">Arial</option>
                        <option value="Verdana">Verdana</option>
                        <option value="Times New Roman">Times New Roman</option>
                    </select>
                </div>

                <!-- Color Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Color</div>
                    <select class="input" data-label="Color">
                        <option value="Yellow">Yellow</option>
                        <option value="Blue">Blue</option>
                        <option value="Red">Red</option>
                        <option value="Green">Green</option>
                    </select>
                </div>

                <!-- Animation Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Animation</div>
                    <select class="input" data-label="Animation">
                        <option value="Still">Still</option>
                        <option value="Left to Right">Left to Right</option>
                        <option value="Right to Left">Right to Left</option>
                        <option value="Up">Up</option>
                    </select>
                </div>

                <!-- Speed Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Speed</div>
                    <select class="input" data-label="Speed">
                        <option value="Medium">Medium</option>
                        <option value="Slow">Slow</option>
                        <option value="Fast">Fast</option>
                    </select>
                </div>

                <!-- Theme Section -->
                <div class="section">
                    <div class="font-mono p-2 label">Theme</div>
                    <select class="input" data-label="Theme">
                        <option value="Light">Light</option>
                        <option value="Dark">Dark</option>
                    </select>
                </div>
            </div>
            <div class="flex justify-center mt-4">
                <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md generate">Generate</button>
            </div>
        </div>
    </div>
    <script src="java.js"></script>

    <!-- Display Screen -->
    <div id="display-screen" class="hidden screen flex flex-col items-center justify-center">
        <canvas id="text-canvas"></canvas>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md back">Back</button>
    </div>

    <script>
        const generateButton = document.querySelector('.generate');
        const backButton = document.querySelector('.back');

        generateButton.addEventListener('click', handleGenerateClick);
        backButton.addEventListener('click', handleBackClick);

        let animationId;

        function resizeCanvas() {
            const canvas = document.getElementById('text-canvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resizeCanvas);
        window.addEventListener('orientationchange', resizeCanvas);

        function handleGenerateClick() {
            // Get user input and options
            const text = document.querySelector('.input[placeholder="Type here..."]').value;
            const font = document.querySelector('.input[data-label="Font"]').value;
            const color = document.querySelector('.input[data-label="Color"]').value;
            const animation = document.querySelector('.input[data-label="Animation"]').value;
            const speed = document.querySelector('.input[data-label="Speed"]').value;
            const theme = document.querySelector('.input[data-label="Theme"]').value;

            // Get canvas context
            const canvas = document.getElementById('text-canvas');
            const ctx = canvas.getContext('2d');
            resizeCanvas();

            // Set theme
            if (theme === 'Dark') {
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            } else {
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }

            // Set text styles
            const fontSize = Math.min(canvas.width, canvas.height) * 0.8;
            ctx.font = `${fontSize}px ${font}`;
            ctx.fillStyle = color;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.shadowColor = color;
            ctx.shadowBlur = 15;


            // Clear previous animation
            cancelAnimationFrame(animationId);

            // Set speed increments
            let increment;
            if (speed === 'Slow') {
                increment = 0.5;
            } else if (speed === 'Medium') {
                increment = 2;
            } else if (speed === 'Fast') {
                increment = 5;
            }

            // Draw text with animation
            let pos = 0;
            const drawText = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                if (theme === 'Dark') {
                    ctx.fillStyle = 'black';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                } else {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }
                ctx.fillStyle = color;

                const isPhoneScreen = window.innerWidth <= 768;
                if (isPhoneScreen) {
                    ctx.save();
                    ctx.translate(canvas.width / 2, canvas.height / 2);
                    ctx.rotate(-Math.PI / 2);
                    if (animation === 'Left to Right') {
                        pos = (pos + increment) % canvas.height;
                        ctx.fillText(text, pos, 0);
                    } else if (animation === 'Right to Left') {
                        pos = (pos - increment + canvas.height) % canvas.height;
                        ctx.fillText(text, pos, 0);
                    } else if (animation === 'Up') {
                        pos = (pos - increment + canvas.width) % canvas.width;
                        ctx.fillText(text, 0, pos);
                    } else {
                        ctx.fillText(text, 0, 0);
                    }
                    ctx.restore();
                } else {
                    if (animation === 'Left to Right') {
                        pos = (pos + increment) % canvas.width;
                        ctx.fillText(text, pos, canvas.height / 2);
                    } else if (animation === 'Right to Left') {
                        pos = (pos - increment + canvas.width) % canvas.width;
                        ctx.fillText(text, pos, canvas.height / 2);
                    } else if (animation === 'Up') {
                        pos = (pos - increment + canvas.height) % canvas.height;
                        ctx.fillText(text, canvas.width / 2, pos);
                    } else {
                        ctx.fillText(text, canvas.width / 2, canvas.height / 2);
                    }
                }
                animationId = requestAnimationFrame(drawText);
            };

            drawText();

            // Switch to the display screen
            document.getElementById('form-screen').classList.add('hidden');
            document.getElementById('display-screen').classList.remove('hidden');
        }

        function handleBackClick() {
            // Cancel the animation
            cancelAnimationFrame(animationId);

            // Switch back to the form screen
            document.getElementById('display-screen').classList.add('hidden');
            document.getElementById('form-screen').classList.remove('hidden');
        }

        // Initial canvas setup
        resizeCanvas();
    </script>
</body>
</html>
